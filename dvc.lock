schema: '2.0'
stages:
  data_ingestion:
    cmd: python src/cnnClassifier/pipeline/stage_01_data_ingestion.py
    deps:
    - path: config/config.yaml
      hash: md5
      md5: 03801019217839da602f7c6a1e965d5a
      size: 1081
    - path: src/cnnClassifier/pipeline/stage_01_data_ingestion.py
      hash: md5
      md5: f11c8ab2d2c4f42045917c22976b4cfe
      size: 1466
    outs:
    - path: artifacts/data_ingestion/Data
      hash: md5
      md5: 18460e6fee1e3a59c35bfe4d011707d4.dir
      size: 124956798
      nfiles: 1000
  base_model:
    cmd: python src/cnnClassifier/pipeline/stage_02_base_model.py
    deps:
    - path: config/config.yaml
      hash: md5
      md5: 03801019217839da602f7c6a1e965d5a
      size: 1081
    - path: src/cnnClassifier/pipeline/stage_02_base_model.py
      hash: md5
      md5: b47bab1da94f5abb793d9256137de45d
      size: 1339
    params:
      params/params.yaml:
        base_model.CLASSES: 4
        base_model.IMAGE_SIZE:
        - 224
        - 224
        - 3
        base_model.INCLUDE_TOP: false
        base_model.LEARNING_RATE: 0.01
        base_model.WEIGHTS: imagenet
    outs:
    - path: artifacts/base_model/updated_base_model.keras
      hash: md5
      md5: d80a0e9aa0859d02a0afc2c88eefbe76
      size: 59342665
  model_training:
    cmd: python src/cnnClassifier/pipeline/stage_03_model_training.py
    deps:
    - path: artifacts/base_model/updated_base_model.keras
      hash: md5
      md5: d80a0e9aa0859d02a0afc2c88eefbe76
      size: 59342665
    - path: artifacts/data_ingestion/Data
      hash: md5
      md5: 18460e6fee1e3a59c35bfe4d011707d4.dir
      size: 124956798
      nfiles: 1000
    - path: config/config.yaml
      hash: md5
      md5: 03801019217839da602f7c6a1e965d5a
      size: 1081
    - path: src/cnnClassifier/pipeline/stage_03_model_training.py
      hash: md5
      md5: 686986002421e597f42941169077335f
      size: 1342
    params:
      params/params.yaml:
        model_training.AUGMENTATION: true
        model_training.AUGMENTATION_PARAMS.fill_mode: nearest
        model_training.AUGMENTATION_PARAMS.height_shift_range: 0.1
        model_training.AUGMENTATION_PARAMS.horizontal_flip: true
        model_training.AUGMENTATION_PARAMS.rotation_range: 15
        model_training.AUGMENTATION_PARAMS.shear_range: 0.1
        model_training.AUGMENTATION_PARAMS.width_shift_range: 0.1
        model_training.AUGMENTATION_PARAMS.zoom_range: 0.2
        model_training.BATCH_SIZE: 16
        model_training.CHECKPOINT: true
        model_training.EPOCHS: 5
        model_training.IMAGE_SIZE:
        - 224
        - 224
        - 3
        model_training.LEARNING_RATE: 0.01
        model_training.MLFLOW_TRACKING: true
        model_training.OPTIMIZER: Adam
    outs:
    - path: artifacts/model_training/
      hash: md5
      md5: 338db69ec03823307c8b3a2947e92c13.dir
      size: 300730712
      nfiles: 8
